<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Mes Contrat</title>
    </h:head>
    <h:body>
        <ui:composition template="./../../WEB-INF/template-front/md-template.xhtml">
            <ui:define name="content">
                <f:view>
                    <h:form>
                        <div class="android-more-section">
                            <h4>Mes contrats</h4>
                            
                                    
                                <table class="mdl-cell mdl-cell--12-col mdl-data-table mdl-js-data-table mdl-shadow--2dp">
                                    <thead>
                                        <tr>
                                            <th class="mdl-data-table__cell--non-numeric">N° police</th>
                                            <th class="mdl-data-table__cell--non-numeric">Produit</th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <ui:repeat value="#{profilMB.listeContrat}" var="item">
                                            <tr>
                                                <td class="mdl-data-table__cell--non-numeric">#{item.nopolice}</td>
                                                <td class="mdl-data-table__cell--non-numeric">#{item.produit.intitule}</td>
                                                <td><h:link outcome="/JSF/Produit/#{item.produit.nompage}/depot?idContrat=#{item.id}" includeViewParams="true" value="Gérer"/></td>
                                                <td><h:link rendered="#{item.valide==0}" outcome="/JSF/Front/paiement?idContrat=#{item.id}" includeViewParams="true" value="Payer"/></td>
                                            </tr>
                                        </ui:repeat>
                                    </tbody>
                                </table>
                            
                        </div>
                    </h:form>
                </f:view>
            </ui:define>
        </ui:composition>

    </h:body>
</html>

